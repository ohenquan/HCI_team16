<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SB Admin - Dashboard</title>

    <!-- Bootstrap core CSS-->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <!-- Page level plugin CSS-->
    <link href="vendor/datatables/dataTables.bootstrap4.css" rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <nav class="navbar navbar-expand navbar-dark bg-dark static-top">
    <a href="index.html"><img src="picture/fat.png" alt="Home" width="134px" height="104px" border="0"></a>
      <a class="navbar-brand mr-1" href="index.html"></a>

      <button class="btn btn-link btn-sm text-white order-1 order-sm-0" id="sidebarToggle" href="#">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Navbar Search -->
      <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
          <div class="input-group-append">
            <button class="btn btn-warning" type="button">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </form>

      <!-- Navbar -->
      <ul class="navbar-nav ml-auto ml-md-0">
        <!--<li class="nav-item dropdown no-arrow mx-1">-->
        <!--  <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-->
        <!--    <i class="fas fa-bell fa-fw"></i>-->
        <!--    <span class="badge badge-danger">9+</span>-->
        <!--  </a>-->
        <!--  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="alertsDropdown">-->
        <!--    <a class="dropdown-item" href="#">Action</a>-->
        <!--    <a class="dropdown-item" href="#">Another action</a>-->
        <!--    <div class="dropdown-divider"></div>-->
        <!--    <a class="dropdown-item" href="#">Something else here</a>-->
        <!--  </div>-->
        <!--</li>-->
        <!--<li class="nav-item dropdown no-arrow mx-1">-->
        <!--  <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">-->
        <!--    <i class="fas fa-envelope fa-fw"></i>-->
        <!--    <span class="badge badge-danger">7</span>-->
        <!--  </a>-->
        <!--  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="messagesDropdown">-->
        <!--    <a class="dropdown-item" href="#">Action</a>-->
        <!--    <a class="dropdown-item" href="#">Another action</a>-->
        <!--    <div class="dropdown-divider"></div>-->
        <!--    <a class="dropdown-item" href="#">Something else here</a>-->
        <!--  </div>-->
        <!--</li>-->
        <li class="nav-item dropdown no-arrow">
          <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-user-circle fa-fw"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
            <a class="dropdown-item" href="myprofile.html">My Profile</a>
            <a class="dropdown-item" href="settings.html">Settings</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="login.html" data-toggle="modal" data-target="#logoutModal">Logout</a>
          </div>
        </li>
      </ul>

    </nav>

    <div id="wrapper">

      <!-- Sidebar -->
      <ul class="sidebar navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="index.html">
            <i class="fas fa-home"></i>
            <span style="color:   #FFD700">Home</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-utensils"></i> 
            <span style="color: #FFD700">My Meals</span>
          </a>
          <div class="dropdown-menu" aria-labelledby="pagesDropdown">
            <a  class="dropdown-item" href="meal_overview.html">            
            <i class="fas fa-chart-bar"></i> 
            <front style="color:  #FFD700">Overview</front></a>
            <a class="dropdown-item" href="meal_addplan.html"> 
            <i class="fas fa-pencil-alt"></i>
            <front style="color:  #FFD700">Meal Plan</front></a>
          </div>
        </li>
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fab fa-apple"></i>
            <span style="color: #FFD700">Food</span>
          </a>
          <div class="dropdown-menu" aria-labelledby="pagesDropdown">
            <a class="dropdown-item" href="food_nutritionalfacts.html">
              <i class="fas fa-clipboard-list"></i>
              <front style="color:  #FFD700">Nutritional Facts</front></a>
            <a class="dropdown-item" href="food_addfood.html">
              <i class="fas fa-plus-square"></i>
              <front style="color:  #FFD700">Add Food</front></a>
          </div>
        </li>
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-calculator"></i>
            <span style="color: #FFD700">Calculator</span>
          </a>
          <div class="dropdown-menu" aria-labelledby="pagesDropdown">
            <a class="dropdown-item" href="calculator_bmiwhat.html">
              <i class="fas fa-chart-area"></i>
             <front style="color: #FFD700"> BMI</front></a>
            <a class="dropdown-item" href="calculator_calories.html">
              <i class="fas fa-chart-bar"></i>
             <front style="color: #FFD700"> Calories Intake</front></a>
          </div>
        </li>        
        
        <li class="nav-item">
          <a class="nav-link" href="forum.html">
            <i class="fas fa-users"></i>
            <span style="color: #FFD700">Forum</span></a>
        </li>
        <!--<li class="nav-item">-->
        <!--  <a class="nav-link" href="tables.html">-->
        <!--    <i class="fas fa-fw fa-table"></i>-->
        <!--    <span>Tables</span></a>-->
        <!--</li>-->
      </ul>


        <div id="content-wrapper">
        <div class="container-fluid">

          <!-- Breadcrumbs-->
          <ol class="breadcrumb">
            <li class="breadcrumb-item">
              <a href="index.html" style="color:  #FFD700"><b>My BMR</b></a>
            </li>
            <li class="breadcrumb-item active">Overall BMR</li>
          </ol>

        </div>
          
          
        <!-- BMR--> 
  <div id="body" class="container-fluid">       
   <div class="card" >
      <div class="card-body">
        <h3 class="card-title">BMR and Calories Calculator</h3>
        <div>
        <p>Gender:
         <select style=" height:30px;" type="multiple" id="gender">
        <option value="male" selected="selected">male</option>
        <option  value="female">female</option>
        </select>
        <p>Enter your height: <input type="text" id="height"/>
        <select style=" height:30px;" type="multiple" id="heightunits">
        <option value="centimetre" selected="selected">centimetre</option>
        <option  value="inches">inches</option>
        </select>
        </p>
        <p>Enter your weight: <input type="text" id="weight"/>
        <select style=" height:30px;" type="multiple" id="weightunits">
        <option value="kg" selected="selected">kilograms</option>
        <option value="lb">pounds</option>
        </select>
        <p>Age: <input type="text" id="age"/>
        <p>Current Activity Level: 
        <select id="activitylevel">
        <option value="l">Sedentary (Little or No Exercise)</option>
        <option value="lm">Lightly Active (Light Exercise/Sports 1-3 Days Per Week)</option>
        <option value="m">Moderateley Active (Moderate Exercise/Sports 3-5 Days Per Week)</option>
        <option value="mh">Very Active (Hard Exercise/Sports 6-7 days Per Week)</option>
        <option value="h">Extra Active (Very Intense Exercise/Sports and Physical Job Daily)</option>
        </select>
        </p>
        </div>
        
        <button type="button" class="btn btn-warning btn-lg btnStyle" onclick="computeBMR(), document.getElementById('gauge_div').scrollIntoView();"><font color="white">Calculate</font></button>
          <br>
          <div style="float:left; width:80%; display: inline-block;">
            <h4>Your BMR is: <font color="orange"><span id="display">?</span></font></h4><br>
            <div style="clear: both">
            <h4 style="float:left" id="cal">Your Maintenance Calories are: </h4>
            <h4 style="float:left"> <font color="orange"> <span id="display1"> ?</span></font> </h4>
            </div>
            <div id="chart_div" style="float:left;width: 700px; height: 300px"></div>
            <div style="clear: both">
            <div style="float:left;margin-left: 5%">
              <button onclick="decreasebutton();" class="thebutton" style="display: none">Lose Weight</button>
              <button onclick="increasebutton();" class="thebutton" style="display: none">Increase Weight</button>
            </div>
          </div>
            </div>
            </div>
            


    <!-- google line chart -->
    <div>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script>  
    var thebmr;
    var thecalorie; 
    var data;
    var options;
    var chart;

    var currentnumber = 6;
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        

        options = {
          legend: 'none',
          curveType: 'function',
          pointSize: 7,
          dataOpacity: 0.3,
          hAxis: {
            ticks: [-1.5,-1,-.5,0,.5,1,1.5],
            format:"#.#kg"
          }
        };
        chart = new google.visualization.LineChart(document.getElementById('chart_div'));
    }

    function increasebutton(){
      data.setValue(currentnumber,2,null);
      data.setValue(currentnumber,3,null);
      if(currentnumber < 13){
        currentnumber += 1;
        thecalorie += 250;
        data.setValue(currentnumber,2,'point { size: 18; shape-type: circle; fill-color: #a52714; }');
        data.setValue(currentnumber,3,String(Math.ceil(thecalorie))+" kcal");
        chart.draw(data , options);
        if(data.getValue(currentnumber,0) > 0){
          document.getElementById('cal').innerText = "Your Calorie intake to gain "+ data.getValue(currentnumber,0) +"kg per week: ";
          document.getElementById('display1').innerText = Math.ceil(thecalorie)+ " kcal";
        }
        else if (data.getValue(currentnumber,0)< 0){
          document.getElementById('cal').innerText = "Your Calorie intake to lose "+ Math.abs(data.getValue(currentnumber,0)) +"kg per week: ";
          document.getElementById('display1').innerText = Math.ceil(thecalorie)+ " kcal";
        }
        else{
          document.getElementById('cal').innerText = "Your Maintenance calories are: ";
          document.getElementById('display1').innerText = Math.ceil(thecalorie)+ " kcal";
        }
      }
      
    }

    function decreasebutton(){
      data.setValue(currentnumber,2,null);
      data.setValue(currentnumber,3,null);
      if(currentnumber > 0){
        currentnumber -= 1;
        thecalorie -= 250;
        data.setValue(currentnumber,2,'point { size: 18; shape-type: circle; fill-color: #a52714; }');
        data.setValue(currentnumber,3,String(Math.ceil(thecalorie))+" kcal");
        chart.draw(data , options);
        if(data.getValue(currentnumber,0) > 0){
          document.getElementById('cal').innerText = "Your Calorie intake to gain "+ data.getValue(currentnumber,0) +"kg per week: ";
          document.getElementById('display1').innerText = Math.ceil(thecalorie)+ " kcal";
        }
        else if (data.getValue(currentnumber,0)< 0){
          document.getElementById('cal').innerText = "Your Calorie intake to lose "+ Math.abs(data.getValue(currentnumber,0)) +"kg per week: ";
          document.getElementById('display1').innerText = Math.ceil(thecalorie) + " kcal";
        }
        else{
          document.getElementById('cal').innerText = "Your Maintenance calories are: ";
          document.getElementById('display1').innerText = Math.ceil(thecalorie)+ " kcal";
        }
      }
    }
    var weight = -1.5;
    var minus = 1250;

    function addtochart(){
      $('.thebutton').css('display', '');
      if (document.getElementById('height').value != "" || document.getElementById('weight').value != "" || document.getElementById('age').value != ""){
        for (var i = 1; i < 15; i++){
        if (i == 1){
            data = google.visualization.arrayToDataTable
              ([['X', 'Y', {'type': 'string', 'role': 'style'}, {'type': 'string', 'role': 'annotation'}],
                [weight,(thecalorie - minus + (i*250)),null,null]
          ]);
        }
        else if(i != 7){
          data.addRows([
            [weight,(thecalorie - minus + (i*250)),null,null]
            ]);
        }
        else{
          data.addRows([
            [weight,(thecalorie - minus + (i*250)),'point { size: 18; shape-type: circle; fill-color: #a52714; }',String(Math.ceil(thecalorie))+" kcal"]
            ]);
        }
        weight += 0.25;
        
      }

      chart.draw(data, options);
      }
      
    }

    
      function computeBMR() {

      // user inputs
      var gender = document.getElementById("gender").value;
      var height = Number(document.getElementById("height").value);
      var heightunits = document.getElementById("heightunits").value;
      var weight = Number(document.getElementById("weight").value);
      var weightunits = document.getElementById("weightunits").value;
      var age = parseFloat(document.getElementById("age").value);
      var activitylevel = document.getElementById("activitylevel").value;
      var MaintenanceCalories = 0;


      //Convert all units to metric
      //if (heightunits == "inches") height /= 39.3700787;
      if (heightunits == "inches") height *= 2.54;
      if (weightunits == "lb") weight /= 2.20462;

      //Perform calculation
    
      if(gender=="male"){
    //English-BMR = 66 + ( 6.23 x weight in pounds ) + ( 12.7 x height in inches ) - ( 6.8 x age in year )
    //Metric-BMR = 66 + ( 13.7 x weight in kilos ) + ( 5 x height in cm ) - ( 6.8 x age in years )
            var val1 = 13.7 * weight;
            var val2 = 5 * height;
            var val3 = 6.8 * age;
            var result = 66 + val1 + val2 - val3;
            var val4 = activitylevel;
      }
      else if (gender=="female"){
    //English-Women: BMR = 655 + ( 4.35 x weight in pounds ) + ( 4.7 x height in inches ) - ( 4.7 x age in years)
    //Women: BMR = 655 + ( 9.6 x weight in kilos ) + ( 1.8 x height in cm ) - ( 4.7 x age in years )
            var val1 = 9.6 * weight;
            var val2 = 1.8 * height;
            var val3 = 4.7 * age;
            var result = 655 + val1 + val2 - val3;
            var val4 = activitylevel;
      }
      switch(val4) {
      case "l":
        MaintenanceCalories = result * 1.2;
        break;

      case "lm":
        MaintenanceCalories = result * 1.375;
        break;

      case "m":
        MaintenanceCalories = result * 1.55;
        break;

      case"mh":
         MaintenanceCalories = result * 1.725;
         break;
         
      case "h":
        MaintenanceCalories = result * 1.9;
        break;
        
      default: "m";
   }      
      
      //Display result of calculation
      document.getElementById('display').innerText = result.toFixed(2);
      document.getElementById('display1').innerText = MaintenanceCalories.toFixed(2) + " kcal";
      thecalorie = MaintenanceCalories;
      addtochart();
      }

</script>
        
</div>   


       
      </div>
      <!-- /.content-wrapper -->

    </div>
    <!-- /#wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
            <a class="btn btn-primary" href="login.html">Logout</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Page level plugin JavaScript-->
    <script src="vendor/chart.js/Chart.min.js"></script>
    <script src="vendor/datatables/jquery.dataTables.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin.min.js"></script>

    <!-- Demo scripts for this page-->
    <script src="js/demo/datatables-demo.js"></script>
    <script src="js/demo/chart-area-demo.js"></script>

  </body>

</html>
